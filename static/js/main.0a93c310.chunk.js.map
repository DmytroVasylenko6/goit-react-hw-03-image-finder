{"version":3,"sources":["components/Button/Button.module.css","components/Section/Section.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.module.css","components/Input/Input.module.css","components/Form/Form.module.css","components/Container/Container.module.css","components/Searchbar/Searchbar.js","components/Input/Input.js","components/Button/Button.js","components/Form/Form.js","components/Section/Section.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Container/Container.js","components/ImageGallery/ImageGallery.js","App.js","index.js"],"names":["module","exports","Searchbar","children","className","s","Input","name","value","label","id","placeholder","type","onChange","pattern","autocomplete","input","autoComplete","autoFocus","Button","text","listener","styles","search","disabled","buttonSearch","load","buttonLoadMore","style","push","classNames","join","onClick","Form","state","inputNameId","shortid","generate","handleInputChange","event","currentTarget","setState","handleSubmit","e","preventDefault","trim","props","Submit","reset","toast","this","onSubmit","SearchForm","Component","Section","title","section","ImageGalleryItem","src","dataset","alt","item","data-set","image","Container","container","ImageGallery","images","error","status","page","updateImageGallery","fetch","searchImage","then","response","ok","json","Promise","reject","Error","imagess","prevState","hits","scroll","catch","window","scrollTo","top","document","documentElement","scrollHeight","behavior","prevProps","prevName","nextName","console","log","map","webformatURL","tags","largeImageURL","color","height","width","message","App","handleSubmitForm","formdata","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0a93c310.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonSearch\":\"Button_buttonSearch__1vDiN\",\"buttonLoadMore\":\"Button_buttonLoadMore__3Duej\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"Section_section__3QFjd\",\"title\":\"Section_title__2DFEt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__2edgh\",\"image\":\"ImageGalleryItem_image__2JrvI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__jeGcT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1ppc0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Input_input__3CFFl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchForm\":\"Form_SearchForm__23m86\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__2sZfv\"};","import PropTypes from 'prop-types';\nimport s from './Searchbar.module.css';\n\nfunction Searchbar({ children }) {\n  return <header className={s.Searchbar}>{children}</header>;\n}\n\nSearchbar.propTypes = {\n  children: PropTypes.object,\n};\n\nexport default Searchbar;\n","import PropTypes from 'prop-types';\nimport s from './Input.module.css';\n\nfunction Input({\n  name,\n  label,\n  value,\n  id,\n  placeholder,\n  type,\n  onChange,\n  pattern,\n  autocomplete,\n}) {\n  return (\n    <input\n      type={type}\n      name={name}\n      value={value}\n      id={id}\n      placeholder={placeholder}\n      onChange={onChange}\n      className={s.input}\n      pattern={pattern}\n      autoComplete={autocomplete}\n      autoFocus\n    />\n  );\n}\n\nInput.propTypes = {\n  name: PropTypes.string,\n  value: PropTypes.string,\n  id: PropTypes.string,\n  placeholder: PropTypes.string,\n  type: PropTypes.string,\n  onChange: PropTypes.func,\n  label: PropTypes.string,\n  pattern: PropTypes.string,\n  autocomplete: PropTypes.string,\n};\n\nexport default Input;\n","import PropTypes from 'prop-types';\nimport s from './Button.module.css';\nimport classNames from 'classnames';\n\nexport default function Button({ text, listener, type, styles, disabled }) {\n  const search = s.buttonSearch;\n  const load = s.buttonLoadMore;\n\n  const style = [];\n\n  if (styles === 'search') {\n    style.push(search);\n  }\n\n  if (styles === 'load') {\n    style.push(load);\n  }\n  return (\n    <button\n      className={classNames(style.join(' '))}\n      type={type}\n      onClick={listener}\n    >\n      {text}\n    </button>\n  );\n}\n\nButton.propTypes = {\n  text: PropTypes.string,\n  listener: PropTypes.func,\n  type: PropTypes.string,\n  styles: PropTypes.string,\n};\n","import React, { Component } from 'react';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport shortid from 'shortid';\nimport Input from '../Input';\nimport Button from '../Button';\nimport s from './Form.module.css';\n\nclass Form extends Component {\n  state = {\n    name: '',\n  };\n\n  inputNameId = shortid.generate();\n\n  handleInputChange = event => {\n    const { value } = event.currentTarget;\n    this.setState({ name: value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    if (this.state.name.trim() === '') {\n      toast('Please enter something');\n      return;\n    }\n    this.props.Submit(this.state);\n    this.reset();\n  };\n\n  reset = () => {\n    this.setState({ name: '' });\n  };\n\n  render() {\n    const { name } = this.state;\n\n    return (\n      <form onSubmit={this.handleSubmit} className={s.SearchForm}>\n        <Button type=\"submit\" styles=\"search\" />\n        <Input\n          autocomplete=\"off\"\n          placeholder=\"Search images and photos\"\n          value={name}\n          id={this.inputNameId}\n          onChange={this.handleInputChange}\n        />\n      </form>\n    );\n  }\n}\n\nexport default Form;\n","import PropTypes from 'prop-types';\nimport s from './Section.module.css';\n\nexport default function Section({ title, children }) {\n  return (\n    <section className={s.section}>\n      {title && <h2 className={s.title}>{title}</h2>}\n      {children}\n    </section>\n  );\n}\n\nSection.propTypes = {\n  title: PropTypes.string,\n};\n","import PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nfunction ImageGalleryItem({ src, dataset, alt }) {\n  return (\n    <>\n      <div className={s.item}>\n        <img src={src} alt={alt} data-set={dataset} className={s.image} />\n      </div>\n    </>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  src: PropTypes.string,\n  dataset: PropTypes.string,\n  alt: PropTypes.string,\n};\n\nexport default ImageGalleryItem;\n","import PropTypes from 'prop-types';\nimport s from './Container.module.css';\n\nfunction Container({ children }) {\n  return <div className={s.container}>{children}</div>;\n}\n\nContainer.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.array, PropTypes.object]),\n};\n\nexport default Container;\n","import React, { Component } from 'react';\n// import PropTypes from 'prop-types';\nimport Loader from 'react-loader-spinner';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport Container from '../Container';\nimport Button from '../Button';\nimport s from './ImageGallery.module.css';\n\nclass ImageGallery extends Component {\n  state = {\n    images: null,\n    error: null,\n    status: 'idle',\n    page: 1,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevName = prevProps.searchImage;\n    const nextName = this.props.searchImage;\n    const { page } = this.state;\n\n    if (prevName !== nextName) {\n      console.log('Изменилось значения запроса');\n\n      this.setState({ status: 'pending' });\n      fetch(\n        `https://pixabay.com/api/?q=${nextName}&page=${page}&key=19197868-48df692c0a14d7fda4172233f&image_type=photo&orientation=horizontal&per_page=12`,\n      )\n        .then(response => {\n          if (response.ok) {\n            return response.json();\n          }\n\n          return Promise.reject(\n            new Error(`No results were found for \"${nextName}\"`),\n          );\n        })\n        .then(imagess =>\n          this.setState({\n            images: imagess.hits,\n            status: 'resolved',\n            page: prevState.page + 1,\n          }),\n        )\n        .catch(error => this.setState({ error, status: 'rejected' }));\n    }\n  }\n\n  updateImageGallery = () => {\n    this.setState({ status: 'pending' });\n    fetch(\n      `https://pixabay.com/api/?q=${this.props.searchImage}&page=${this.state.page}&key=19197868-48df692c0a14d7fda4172233f&image_type=photo&orientation=horizontal&per_page=12`,\n    )\n      .then(response => {\n        if (response.ok) {\n          return response.json();\n        }\n\n        return Promise.reject(\n          new Error(`No results were found for \"${this.props.searchImage}\"`),\n        );\n      })\n      .then(imagess =>\n        this.setState(\n          prevState => ({\n            images: [...prevState.images, ...imagess.hits],\n            status: 'resolved',\n            page: prevState.page + 1,\n          }),\n          this.scroll,\n        ),\n      )\n      .catch(error => this.setState({ error, status: 'rejected' }));\n  };\n\n  scroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  render() {\n    const { images, error, status } = this.state;\n\n    if (status === 'idle') {\n      return <></>;\n    }\n\n    if (status === 'pending' && images !== null) {\n      return (\n        <>\n          <ul className={s.ImageGallery}>\n            {images.map(image => {\n              return (\n                <li key={image.id}>\n                  <ImageGalleryItem\n                    src={image.webformatURL}\n                    alt={image.tags}\n                    dataset={image.largeImageURL}\n                  />\n                </li>\n              );\n            })}\n          </ul>\n\n          <Container>\n            <Loader type=\"ThreeDots\" color=\"#ca347f\" height={80} width={80} />\n          </Container>\n        </>\n      );\n    } else if (status === 'pending') {\n      return (\n        <Container>\n          <Loader type=\"ThreeDots\" color=\"#ca347f\" height={80} width={80} />\n        </Container>\n      );\n    }\n\n    if (status === 'rejected') {\n      return <h1>{error.message}</h1>;\n    }\n\n    if (status === 'resolved') {\n      return (\n        <>\n          <ul className={s.ImageGallery}>\n            {images.map(image => {\n              return (\n                <li key={image.id}>\n                  <ImageGalleryItem\n                    src={image.webformatURL}\n                    alt={image.tags}\n                    dataset={image.largeImageURL}\n                  />\n                </li>\n              );\n            })}\n          </ul>\n\n          <Container>\n            <Button\n              type=\"button\"\n              text=\"load more\"\n              styles=\"load\"\n              listener={() => this.updateImageGallery()}\n            />\n          </Container>\n        </>\n      );\n    }\n  }\n}\n\n// ImageGallery.propTypes = {\n//   children: PropTypes.object,\n// };\n\nexport default ImageGallery;\n","import React, { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport Searchbar from './components/Searchbar';\nimport Form from './components/Form';\nimport Section from './components/Section';\nimport ImageGallery from './components/ImageGallery';\n\nclass App extends Component {\n  state = {\n    searchImage: '',\n  };\n\n  handleSubmitForm = formdata => {\n    this.setState({\n      searchImage: formdata.name,\n    });\n  };\n\n  render() {\n    return (\n      <>\n        <Searchbar>\n          <Form Submit={this.handleSubmitForm} />\n        </Searchbar>\n        <ToastContainer autoClose={3000} />\n        <Section>\n          <ImageGallery searchImage={this.state.searchImage} />\n        </Section>\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}